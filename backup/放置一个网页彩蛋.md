我一直有个想法，想在网页中隐藏一些内容，然后通过用户输入特定的字符串来解锁这些信息。这是一种很酷的效果，可以用来创造神秘感或者做成有趣的彩蛋。在这篇文章中，我将使用 JavaScript 来实现这种效果。我会设置一个隐藏的文字或图片，当读者在网页上敲击某个预设的字符序列时，它们就会被显示出来。

### 1. 基础页面结构

首先，我们需要一个简单的 HTML 页面，其中包含需要隐藏的文字或图片。为了让隐藏内容起效，先通过 CSS 设置其默认隐藏。
<details>
  <summary>一个基本的 HTML 模板</summary>

  ```html
  <!DOCTYPE html>
  <html lang="zh-CN">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>隐藏内容的网页</title>
      <style>
          /* 默认隐藏 */
          #hidden-content {
              display: none;
          }
      </style>
  </head>
  <body>
      <h1>欢迎来到我的网页！</h1>
      <p>试着在键盘上输入“open”看看会发生什么。</p>

      <!-- 隐藏的内容 -->
      <div id="hidden-content">
          <p>你发现了隐藏的彩蛋！🎉</p>
          <img src="secret-image.jpg" alt="隐藏的图片" width="300">
      </div>

      <script src="script.js"></script>
  </body>
  </html>
  ```

</details>

在这个模板中，`#hidden-content` 是我们隐藏的内容，它默认是 `display: none` 隐藏的。接下来，通过 JavaScript 来监听用户的键盘输入，敲击指定的字符序列时显示隐藏内容。

### 2. 实现 JavaScript 键盘监听功能

在 JavaScript 中，我们可以通过 `keydown` 事件来监听用户的每一次键盘输入。我们将设置一个数组来存储用户输入的字符，并且当用户输入的字符序列匹配我们预设的字符串时，就显示隐藏的内容。

<details>
  <summary>一个简单的 JavaScript 脚本</summary>

  ```javascript
  // script.js

  // 预设的触发密码
  const secretCode = 'open';
  // 保存用户输入的字符
  let userInput = [];

  // 监听键盘输入事件
  document.addEventListener('keydown', function(event) {
      // 获取用户输入的字符
      userInput.push(event.key);
      
      // 如果输入的字符长度超过密码长度，删除第一个字符保持长度一致
      if (userInput.length > secretCode.length) {
          userInput.shift();
      }

      // 检查输入的字符序列是否与密码匹配
      if (userInput.join('').toLowerCase() === secretCode) {
          // 显示隐藏内容
          document.getElementById('hidden-content').style.display = 'block';
      }
  });
  ```
  
</details>

这个脚本很简单明了：

1. `secretCode` 定义了用户必须输入的密码，也就是 "open"。
2. `userInput` 用来存储用户最近输入的字符，并且我们确保存储的字符数不会超过密码的长度。
3. 每次用户按下键盘时，事件监听器会捕获该字符并检查它是否与 `secretCode` 匹配。如果匹配，就会把隐藏的内容显示出来。

### 3. 完善用户体验

虽然这个功能已经可以实现基本效果了，但我们可以进一步优化用户体验。比如，当内容被显示后，我们可以禁用事件监听器，防止用户多次触发。同样，我们可以添加一些动画效果，使内容显示得更平滑。

#### 3.1 添加显示动画

我们可以通过 CSS 过渡来为隐藏内容的显示添加淡入动画。首先，修改一下 CSS 代码：

```css
#hidden-content {
    display: none;
    opacity: 0;
    transition: opacity 1s ease;
}

#hidden-content.show {
    display: block;
    opacity: 1;
}
```

接下来，我们修改 JavaScript 代码，将 `display` 的控制改为通过添加类名来实现：

```javascript
document.addEventListener('keydown', function(event) {
    userInput.push(event.key);

    if (userInput.length > secretCode.length) {
        userInput.shift();
    }

    if (userInput.join('').toLowerCase() === secretCode) {
        const hiddenContent = document.getElementById('hidden-content');
        hiddenContent.classList.add('show');

        // 禁用进一步的监听器
        document.removeEventListener('keydown', arguments.callee);
    }
});
```

#### 3.2 增加彩蛋提示

我希望给读者一些提示，告诉他们即将解锁隐藏内容。可以在用户快要完成输入时显示一些文字，一些简单提示信息能增强互动体验。

```html
<p id="hint-message" style="display: none;">接近了！再按一个键试试！</p>
```

然后在 JavaScript 中，监听用户的输入，如果已经输入了前三个字符，就显示提示信息：

```javascript
if (userInput.join('').toLowerCase() === secretCode.slice(0, 3)) {
    document.getElementById('hint-message').style.display = 'block';
}
```

### 4. 成果

<P>欢迎来到我的网页！</p>
<p>试着在键盘上输入“open”看看会发生什么。</p>
<p id="hint-message" style="display: none;">接近了！再按一个键试试！</p>
    <div id="hidden-content">
        <p>你发现了隐藏的彩蛋！🎉</p>
        <img src="https://zh.wikipedia.org/wiki/File:Easter_egg_3.jpg" alt="隐藏的图片" width="300">
    </div>

<!-- ##{"script":"<script src='https://coldowl.github.io/EasterEgg.js'></script>"}## -->